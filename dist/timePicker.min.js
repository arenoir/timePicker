/*! Timepicker - v0.4.0 - 2013-05-15
* http://labs.perifer.se/timedatepicker/
* Copyright (c) 2013 Dennis Burke; Licensed MIT, GPL */
(function($){"use strict";function e(e,t,i){e.value=$(t).text(),$(e).change(),e.focus(),i.hide()}function t(e,t){var r=e.getHours(),s=t.show24Hours?r:(r+11)%12+1,o=e.getMinutes();return i(s)+t.separator+i(o)+(t.show24Hours?"":12>r?" am":" pm")}function i(e){return(10>e?"0":"")+e}function r(e,t){return"object"==typeof e?o(e):s(e,t)}function s(e,t){if(e){e=n(e,t);var i=e.split(t.separator),r=parseFloat(i[0]),s=parseFloat(i[1]);t.show24Hours||(12===r&&-1!==e.indexOf("am")?r=0:12!==r&&-1!==e.indexOf("pm")&&(r+=12));var a=new Date(0,0,0,r,s,0);return o(a)}return null}function o(e){return e.setFullYear(2001),e.setMonth(0),e.setDate(0),e}function n(e,t){var i,r,s,o,n,a;if(t.show24Hours)return e;if(e)if(r=e.toLowerCase().replace(/\s*/g,""),i=/^(\d{1,2})(a|p)m*$/.exec(r)){if(12>parseInt(i[1],10))return""+i[1]+":00"+i[2]+"m"}else if(s=/^(\d{1,2}):(\d{1,2})(a|p)m*$/.exec(r)){if(o=parseInt(s[1],10),n=parseInt(s[2],10),a=s[3]+"m",12>o||59>n)return""+o+":"+(n>=10?n:n+"0")+a}else if((s=/^(\d{1,2}):(\d{1,2})$/.exec(r))&&(o=parseInt(s[1],10),n=parseInt(s[2],10),a="am",24>=o&&59>=n))return o>=12&&(o-=12,a="pm"),0===o&&(o=12),o+":"+n+a}var a={init:function(e){var t=$.extend({},$.fn.timePicker.defaults,e);return this.each(function(){$.timePicker(this,t)})},destroy:function(){return this.each(function(){if(this.timePicker){var e=$(this).data("timepickerdiv");$(this).data("timepickerdiv",""),$("#"+e).remove(),delete this.timePicker}})}};$.timePicker=function(e,t){try{var i=$(e)[0];return i.timePicker||(i.timePicker=new $._timePicker(i,t))}catch(r){throw"timepicker must be called on an element"}},$.timePicker.version="0.4.0",$._timePicker=function(i,a){var u=!1,c=!1,l=r(a.startTime,a),f=r(a.endTime,a),p=a.defaultSelected?r(a.defaultSelected,a):l,d="selected",m="li."+d,h="tp"+(new Date).getTime();$(i).attr("autocomplete","off"),$(i).data("timepickerdiv",h);for(var v=[],k=new Date(l);f>=k;)v[v.length]=t(k,a),k=new Date(k.setMinutes(k.getMinutes()+a.step));for(var g=$('<div id="'+h+'" class="time-picker'+(a.show24Hours?"":" time-picker-12hours")+'"></div>'),w=$("<ul></ul>"),T=0;v.length>T;T+=1)w.append("<li>"+v[T]+"</li>");g.append(w),g.appendTo("body").hide(),g.mouseover(function(){u=!0}).mouseout(function(){u=!1}),$("li",w).mouseover(function(){c||($(m,g).removeClass(d),$(this).addClass(d))}).mousedown(function(){u=!0}).click(function(){e(i,this,g,a),u=!1});var H=function(){if(g.is(":visible"))return!1;$("li",g).removeClass(d);var e=$(i).offset();g.css({top:e.top+i.offsetHeight,left:e.left}),g.show();var r=i.value?s(i.value,a):p,n=60*l.getHours()+l.getMinutes(),u=60*r.getHours()+r.getMinutes()-n,c=Math.round(u/a.step),m=o(new Date(0,0,0,0,c*a.step+n,0));m=m>l&&f>=m?m:l;var h=$("li:contains("+t(m,a)+")",g);return h.length&&(h.addClass(d),g[0].scrollTop=h[0].offsetTop),!0};$(i).focus(H).click(H),$(i).blur(function(){u||g.hide(),$(this).val(n($(this).val(),a))}),$(i).keydown(function(t){var r;c=!0;var s=g[0].scrollTop;switch(t.which){case 38:if(H())break;r=$(m,w);var o=r.prev().addClass(d)[0];o?(r.removeClass(d),s>o.offsetTop&&(g[0].scrollTop=s-o.offsetHeight)):(r.removeClass(d),o=$("li:last",w).addClass(d)[0],g[0].scrollTop=o.offsetTop-o.offsetHeight);break;case 40:if(H())break;r=$(m,w);var n=r.next().addClass(d)[0];n?(r.removeClass(d),n.offsetTop+n.offsetHeight>s+g[0].offsetHeight&&(g[0].scrollTop=s+n.offsetHeight)):(r.removeClass(d),n=$("li:first",w).addClass(d)[0],g[0].scrollTop=0);break;case 13:if(g.is(":visible")){var u=$(m,w)[0];e(i,u,g,a),t.preventDefault()}break;case 27:g.hide()}}),$(i).keyup(function(){c=!1}),this.getTime=function(){return s(i.value,a)},this.setTime=function(e){i.value=t(r(e,a),a),$(i).change()}},$.fn.timePicker=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?($.error("Method "+e+" does not exist on jQuery.tooltip"),void 0):a.init.apply(this,arguments)},$.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),endTime:new Date(0,0,0,23,30,0),defaultSelected:null,separator:":",show24Hours:!0}})(jQuery);
//@ sourceMappingURL=maps/timePicker.min.js.map